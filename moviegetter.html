<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

<!--
This is a single page script to basically pull a first round of movies, but hopefully will be built to build a csv and individual objects on textpages that can be consumed when we have firebase in play

Notes:
they only allow requests of 40 every 10 seconds.

  -->

  <title>Moviegetter</title>

<!----------------------------------------------- jQuery  -------------------------------------------------->

<script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous">
</script>

<!-----------------------------------------------Bootstrap javascript ---------------------------------->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- --------------------------------------------- Stylesheets ----------------------------------------->
    <!-- Bootstrap css -->
   <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Local css -->
<link href="assets/css/reset.css" rel="stylesheet" type="text/css">
<link href="assets/css/style.css" rel="stylesheet" type="text/css">

</head>

<body>

<div id="theResults"></div>


<!------------------------------------- Local JavaScript Link and Code ------------------------------------------>
  <script>
  $(document).ready(function() {
  //loops through the genres and gets 40 movies, waits 15 seconds and gets the next one.  It prints them out in csv format on this page in a div above.


function getMoviesFromID (theGenreID){
  console.log(theGenreID)
  console.log(typeof theGenreID)


}


  function getMoviesfromArrayIDs(genreids){
  var theId;
    for(var i = 0; i < genreids.length; i++){
      theId  = genreids[i] ;
      setTimeout( function(){
      // console.log("hi");
      }, 3000);
      console.log("hello");
    }
  }

    //   async: true,
    //   crossDomain: true,
    //   url: "https://api.themoviedb.org/3/genre/"+k+"/movies?sort_by=created_at.asc&include_adult=false&language=en-US&api_key=9e47aea3d7ab855ced2fcc031863b928",
    //   method: "GET",
    //   headers: {},
    //   data: "{}"
    //   }).done(function (response) {
    //     $.each(response.data.movies,function(){
    //       $("#theResponse").append("<p>"+")
    //     }
  // }},2000)

  function GetObjectMoviesUsingGenres(){
    var theGenre = thegenres.genres;
      for(var i = 0; i < theGenre.length; i++ ){
        theGenreGet(theGenre);
        console.log("theGenre.length +")
        console.log("I +++++++++++++++++++++++++++++");

        }
      }

// gets the genres in JSON and parse out the Genre ids
function getObjectGenresIdsWithAjax(){
  var settings = {
    "async": true,
    "crossDomain": true,
    "url": "https://api.themoviedb.org/3/genre/movie/list?language=en-US&api_key=9e47aea3d7ab855ced2fcc031863b928",
    "method": "GET",
    "headers": {},
    "data": "{}"
  }
  $.ajax(settings).done(function (response) {
    var genreObjectArray = response.genres;
    var theArrayGenreIds = [];
    for(var i = 0; i < genreObjectArray.length; i++ ){
      theArrayGenreIds.push(genreObjectArray[i]["id"]); // I should now have the genre Ids alone in an array.
    }
    getMoviesfromArrayIDs(theArrayGenreIds)
  })
}
  getObjectGenresIdsWithAjax();
  })
  </script>

</body>
</html>
